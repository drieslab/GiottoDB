<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quickstart â€¢ Duckling</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Quickstart">
<meta property="og:description" content="Duckling">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Duckling</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/benchmark-logNormalization.html">Benchmarking DuckDB and Sparse Matrix Operation</a>
    </li>
    <li>
      <a href="../articles/intro.html">Intro</a>
    </li>
    <li>
      <a href="../articles/quickstart.html">Quickstart</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/Ed2uiz/duckling/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Quickstart</h1>
            
            <h4 data-toc-skip class="date">2023-09-12</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/Ed2uiz/duckling/blob/HEAD/vignettes/quickstart.Rmd" class="external-link"><code>vignettes/quickstart.Rmd</code></a></small>
      <div class="hidden name"><code>quickstart.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This vignette introduces the different classes of Duckling and how to
work with them at a basic level using generic functions. The goal of the
classes was to emulate in-memory classes that are commonly used in the
omics field (e.g.Â dgCMatrix) but rely on a database backend
(i.e.Â DuckDB).</p>
</div>
<div class="section level2">
<h2 id="class-structure-of-duckling">Class Structure of Duckling<a class="anchor" aria-label="anchor" href="#class-structure-of-duckling"></a>
</h2>
<p><a href="https://mermaid.live/edit#pako:eNp1VF2PmzAQ_CvIT20vicgngYdKV6WVTuqpUa93Dy1VZMwGrBg7NaYNjfLfu4AJBPWeWM-OZ3fHNmfCVAwkIEzQPN9wmmiahbJeOZuCHQSXiXP-8fLw9dvz_eeflzYXUXYAGT_IvXLOoXScu1jz36B3jAoROCylmjIDuklFuyM16RBOaT7ExhqYkhKY-dAUePM2lNeicbShhjb1ri01FRAPHBOJ3VYp8Zr6nYZMGdhJmsEwxSU3gSNUwnGC21YGPTxSo_mpnZpntVyOe3luWgyXXBpI7FT3mpu0ksH4yzG3EQq1IFPinQ21-tOG5j_Tf8IDAlv8AGWd7xhP6PNWq1NZUWvSwCncBScDEmetuB_ruEmMcwQ4Fb8K0KWt3ClvlSgTJWtxW54aNCIqDHrZ661Oyd0R-T0TLn0lRPO-UMXmVUt9eiiv9288fm8rDMDeLQylvR0d2bZzgzeHV4H2GBsYvdA5dMn-uqVAxoe0G8IGZD_XK3pzKla-Ayypb_DrnKt1ZEQy0BnlMb7e2saQmBRwYBJgGMOeFsKEBL1EKi2MeiolI4HRBYxIccQXA_a9k2BPRY7okcrvSmUtCZckOJMTCaZLf-LOVuvV0pstZvP5ejUiJQlm64nvua43m3srfzH1_PllRP7WCu7En1dsz3eni-XaW4wIxNwo_Wj_N9Xn8g9yVonZ" class="external-link"><img src="https://mermaid.ink/img/pako:eNp1VF2PmzAQ_CvIT20vicgngYdKV6WVTuqpUa93Dy1VZMwGrBg7NaYNjfLfu4AJBPWeWM-OZ3fHNmfCVAwkIEzQPN9wmmiahbJeOZuCHQSXiXP-8fLw9dvz_eeflzYXUXYAGT_IvXLOoXScu1jz36B3jAoROCylmjIDuklFuyM16RBOaT7ExhqYkhKY-dAUePM2lNeicbShhjb1ri01FRAPHBOJ3VYp8Zr6nYZMGdhJmsEwxSU3gSNUwnGC21YGPTxSo_mpnZpntVyOe3luWgyXXBpI7FT3mpu0ksH4yzG3EQq1IFPinQ21-tOG5j_Tf8IDAlv8AGWd7xhP6PNWq1NZUWvSwCncBScDEmetuB_ruEmMcwQ4Fb8K0KWt3ClvlSgTJWtxW54aNCIqDHrZ661Oyd0R-T0TLn0lRPO-UMXmVUt9eiiv9288fm8rDMDeLQylvR0d2bZzgzeHV4H2GBsYvdA5dMn-uqVAxoe0G8IGZD_XK3pzKla-Ayypb_DrnKt1ZEQy0BnlMb7e2saQmBRwYBJgGMOeFsKEBL1EKi2MeiolI4HRBYxIccQXA_a9k2BPRY7okcrvSmUtCZckOJMTCaZLf-LOVuvV0pstZvP5ejUiJQlm64nvua43m3srfzH1_PllRP7WCu7En1dsz3eni-XaW4wIxNwo_Wj_N9Xn8g9yVonZ?type=png"></a></p>
<p>Duckling currently supports the following generic methods.</p>
<table class="table">
<thead><tr class="header">
<th></th>
<th>dbSparseMatrix</th>
<th>dbDenseMatrix</th>
<th>dbDataFrame</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>colSums</td>
<td>âœ…</td>
<td>âœ…</td>
<td>-</td>
</tr>
<tr class="even">
<td>rowSums</td>
<td>âœ…</td>
<td>âœ…</td>
<td>-</td>
</tr>
<tr class="odd">
<td>colMeans</td>
<td>âœ…</td>
<td>âœ…</td>
<td>-</td>
</tr>
<tr class="even">
<td>rowMeans</td>
<td>âœ…</td>
<td>âœ…</td>
<td>-</td>
</tr>
<tr class="odd">
<td>colSds</td>
<td>ðŸŸ§</td>
<td>âœ…</td>
<td>-</td>
</tr>
<tr class="even">
<td>rowSds</td>
<td>ðŸŸ§</td>
<td>âœ…</td>
<td>-</td>
</tr>
<tr class="odd">
<td>t</td>
<td>ðŸŸ§</td>
<td>âœ…</td>
<td>-</td>
</tr>
<tr class="even">
<td>mean</td>
<td>âœ…</td>
<td>âœ…</td>
<td>-</td>
</tr>
<tr class="odd">
<td>nrow</td>
<td>âœ…</td>
<td>âœ…</td>
<td>âœ…</td>
</tr>
<tr class="even">
<td>ncol</td>
<td>âœ…</td>
<td>âœ…</td>
<td>âœ…</td>
</tr>
<tr class="odd">
<td>dims</td>
<td>âœ…</td>
<td>âœ…</td>
<td>âœ…</td>
</tr>
<tr class="even">
<td>head</td>
<td>ðŸŸ§</td>
<td>âœ…</td>
<td>-</td>
</tr>
<tr class="odd">
<td>tail</td>
<td>ðŸŸ§</td>
<td>âœ…</td>
<td>-</td>
</tr>
<tr class="even">
<td>math</td>
<td>ðŸŸ§</td>
<td>âœ…</td>
<td>-</td>
</tr>
<tr class="odd">
<td>â€¦</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="loading-library">Loading library<a class="anchor" aria-label="anchor" href="#loading-library"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># git clone repo</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/load_all.html" class="external-link">load_all</a></span><span class="op">(</span><span class="st">'/Users/user/Documents/dries/Giotto/duckling/'</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://duckdb.org/" class="external-link">duckdb</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="working-with-large-matrices-with-dbmatrix">Working with large matrices with dbMatrix<a class="anchor" aria-label="anchor" href="#working-with-large-matrices-with-dbmatrix"></a>
</h2>
<p><code>dbMatrix</code> consists of three subclasses that are designed
to work with different types of matrices. All <code>dbMatrix</code>
subclasses currently support basic generic operations as listed below,
with more to be likely added in the future.</p>
<div class="section level3">
<h3 id="sparse-matrices">Sparse matrices<a class="anchor" aria-label="anchor" href="#sparse-matrices"></a>
</h3>
<p>We represent sparse matrices using a triplicate format with
<code>i</code>, <code>j</code>, and <code>x</code> vectors.
<code>i</code> and <code>j</code> refer to the row and column indices,
respectively, with specific <code>x</code> values or counts.</p>
<p>The <code>dbSparseMatrix</code> class stores this ijx matrix (now
tehnically a data.frame) with their associated dimension names and
dimensions. It does not contain zeros. Zero values are inferred based on
the stored dimensions.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># simulate dbSparseMatrix</span></span>
<span><span class="va">sparse</span> <span class="op">=</span> <span class="fu">sim_dbSparseMatrix</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># preview </span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">sparse</span><span class="op">[</span><span class="op">]</span><span class="op">)</span> </span></code></pre></div>
<pre><code><span><span class="co">## Rows: ??</span></span>
<span><span class="co">## Columns: 3</span></span>
<span><span class="co">## Database: DuckDB 0.8.1 [root@Darwin 22.4.0:R 4.3.0/:memory:]</span></span>
<span><span class="co">## $ i <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 30, 15, 9, 12, 49, 6, 24, 31, 1, 21, 26, 34, 27, 36, 10, 49, 32, 45,â€¦</span></span>
<span><span class="co">## $ j <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 3, 4, 6, 6, 6, 8, 8, 10, 13, 13, 13, 13, 15, 17, 18, 18, 19, 19, 20,â€¦</span></span>
<span><span class="co">## $ x <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0.1269098, 0.6252433, 0.9499931, -1.8944023, 0.5962551, -3.4929064, â€¦</span></span></code></pre>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Generics for dbSparseMatrix</span></span>
<span><span class="fu">colMeans</span><span class="op">(</span><span class="va">sparse</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##         col3         col4         col6         col8        col10        col13 </span></span>
<span><span class="co">##  0.002538195  0.012504866 -0.006963080 -0.079377221  0.004534351 -0.012915368 </span></span>
<span><span class="co">##        col15        col17        col18        col19        col20        col21 </span></span>
<span><span class="co">## -0.009126065 -0.024139736 -0.023037927  0.007097940 -0.050451563 -0.036188228 </span></span>
<span><span class="co">##        col22        col24        col26        col27        col28        col31 </span></span>
<span><span class="co">## -0.006346950  0.014823016 -0.059071596  0.003001104 -0.001646892  0.033790220 </span></span>
<span><span class="co">##        col33        col38        col39        col41        col42        col44 </span></span>
<span><span class="co">##  0.029975521 -0.004454639  0.006065468  0.019627945 -0.002717925 -0.028065897 </span></span>
<span><span class="co">##        col45        col46        col48        col49        col50 </span></span>
<span><span class="co">##  0.018097217 -0.020808430  0.029630599  0.009363159  0.041628831</span></span></code></pre>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">colSums</span><span class="op">(</span><span class="va">sparse</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##        col3        col4        col6        col8       col10       col13 </span></span>
<span><span class="co">##  0.12690975  0.62524329 -0.34815402 -3.96886104  0.22671754 -0.64576838 </span></span>
<span><span class="co">##       col15       col17       col18       col19       col20       col21 </span></span>
<span><span class="co">## -0.45630327 -1.20698681 -1.15189635  0.35489701 -2.52257815 -1.80941142 </span></span>
<span><span class="co">##       col22       col24       col26       col27       col28       col31 </span></span>
<span><span class="co">## -0.31734752  0.74115082 -2.95357980  0.15005518 -0.08234462  1.68951100 </span></span>
<span><span class="co">##       col33       col38       col39       col41       col42       col44 </span></span>
<span><span class="co">##  1.49877604 -0.22273194  0.30327340  0.98139727 -0.13589624 -1.40329484 </span></span>
<span><span class="co">##       col45       col46       col48       col49       col50 </span></span>
<span><span class="co">##  0.90486084 -1.04042151  1.48152997  0.46815795  2.08144156</span></span></code></pre>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">rowMeans</span><span class="op">(</span><span class="va">sparse</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##          row1          row2          row3          row4          row6 </span></span>
<span><span class="co">## -0.0056413939 -0.0558671591  0.0060654680  0.0052469945 -0.0698581281 </span></span>
<span><span class="co">##          row7          row8          row9         row10         row12 </span></span>
<span><span class="co">##  0.0356357404  0.0007553428  0.0189998627 -0.0074013576 -0.0072241843 </span></span>
<span><span class="co">##         row15         row16         row19         row21         row22 </span></span>
<span><span class="co">##  0.0142857720  0.0040287064 -0.0010332622 -0.0023752593 -0.0001153939 </span></span>
<span><span class="co">##         row24         row25         row26         row27         row30 </span></span>
<span><span class="co">## -0.0303275229  0.0299755208  0.0151633766 -0.0426661761  0.0025381951 </span></span>
<span><span class="co">##         row31         row32         row34         row36         row38 </span></span>
<span><span class="co">##  0.0045343509  0.0187528922 -0.0200620911 -0.0241397362  0.0048449290 </span></span>
<span><span class="co">##         row40         row41         row42         row44         row45 </span></span>
<span><span class="co">##  0.0319136807  0.0018765393  0.0356264940 -0.0325205357  0.0127419635 </span></span>
<span><span class="co">##         row46         row47         row48         row49 </span></span>
<span><span class="co">## -0.0170481134 -0.0492801841 -0.0063469504 -0.0037114667</span></span></code></pre>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">rowSums</span><span class="op">(</span><span class="va">sparse</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##        row30        row15         row9        row12        row49         row6 </span></span>
<span><span class="co">## -0.282069694 -2.793357954  0.303273398  0.262349725 -3.492906406  1.781787020 </span></span>
<span><span class="co">##        row24        row31         row1        row21        row26        row34 </span></span>
<span><span class="co">##  0.037767142  0.949993137 -0.370067881 -0.361209213  0.714288602  0.201435319 </span></span>
<span><span class="co">##        row27        row36        row10        row32        row45        row47 </span></span>
<span><span class="co">## -0.051663112 -0.118762963 -0.005769693 -1.516376145  1.498776041  0.758168828 </span></span>
<span><span class="co">##        row48         row2         row7        row16        row22        row38 </span></span>
<span><span class="co">## -2.133308807  0.126909754  0.226717544  0.937644612 -1.003104554 -1.206986808 </span></span>
<span><span class="co">##        row46        row40        row41        row25        row44         row3 </span></span>
<span><span class="co">##  0.242246448  1.595684035  0.093826965  1.781324698 -1.626026787  0.637098176 </span></span>
<span><span class="co">##        row19         row4         row8        row42 </span></span>
<span><span class="co">## -0.852405669 -2.464009203 -0.317347521 -0.185573337</span></span></code></pre>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">sparse</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] -0.1326331</span></span></code></pre>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">sparse</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 50 50</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="dense-matrices">Dense matrices<a class="anchor" aria-label="anchor" href="#dense-matrices"></a>
</h3>
<p>We use the same approach as sparse matrices to convert a matrix into
a triplicate <code>i</code>, <code>j</code>, and <code>x</code> vector
data.frame format. All values in the <code>x</code> vector are retained
and the <code>i</code> and <code>j</code> vectors represent the
dimnames.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dense</span> <span class="op">=</span> <span class="fu">sim_dbDenseMatrix</span><span class="op">(</span><span class="op">)</span> <span class="co"># from MASS::Animals package</span></span>
<span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">dense</span><span class="op">[</span><span class="op">]</span><span class="op">)</span> </span></code></pre></div>
<pre><code><span><span class="co">## Rows: ??</span></span>
<span><span class="co">## Columns: 3</span></span>
<span><span class="co">## Database: DuckDB 0.8.1 [root@Darwin 22.4.0:R 4.3.0/:memory:]</span></span>
<span><span class="co">## $ i <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Mountain beaver", "Cow", "Grey wolf", "Goat", "Guinea pig", "Diplioâ€¦</span></span>
<span><span class="co">## $ j <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "body", "body", "body", "body", "body", "body", "body", "body", "bodâ€¦</span></span>
<span><span class="co">## $ x <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1.350, 465.000, 36.330, 27.660, 1.040, 11700.000, 2547.000, 187.100,â€¦</span></span></code></pre>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">colMeans</span><span class="op">(</span><span class="va">dense</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##      body     brain </span></span>
<span><span class="co">## 4278.4388  574.5214</span></span></code></pre>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">colSums</span><span class="op">(</span><span class="va">dense</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##     body    brain </span></span>
<span><span class="co">## 119796.3  16086.6</span></span></code></pre>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">rowMeans</span><span class="op">(</span><span class="va">dense</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  Mountain beaver              Cow        Grey wolf             Goat </span></span>
<span><span class="co">##        6183.0000        3575.0000       43577.2500          14.4500 </span></span>
<span><span class="co">##       Guinea pig      Dipliodocus   Asian elephant           Donkey </span></span>
<span><span class="co">##         246.0800         444.0000        5875.0000         303.0500 </span></span>
<span><span class="co">##            Horse     Potar monkey              Cat          Giraffe </span></span>
<span><span class="co">##         604.5000          71.3300           0.5600         306.5000 </span></span>
<span><span class="co">##          Gorilla            Human African elephant      Triceratops </span></span>
<span><span class="co">##          77.9150           3.2700         588.0000         691.0000 </span></span>
<span><span class="co">##    Rhesus monkey         Kangaroo   Golden hamster            Mouse </span></span>
<span><span class="co">##         128.5000          45.5000           1.5610           4.7250 </span></span>
<span><span class="co">##           Rabbit            Sheep           Jaguar       Chimpanzee </span></span>
<span><span class="co">##           0.2115         186.0000          62.5000           7.3000 </span></span>
<span><span class="co">##              Rat    Brachiosaurus             Mole              Pig </span></span>
<span><span class="co">##           1.0900          92.9000         115.2500        4735.0000</span></span></code></pre>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">rowSums</span><span class="op">(</span><span class="va">dense</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  Mountain beaver              Cow        Grey wolf             Goat </span></span>
<span><span class="co">##        12366.000         7150.000        87154.500           28.900 </span></span>
<span><span class="co">##       Guinea pig      Dipliodocus   Asian elephant           Donkey </span></span>
<span><span class="co">##          492.160          888.000        11750.000          606.100 </span></span>
<span><span class="co">##            Horse     Potar monkey              Cat          Giraffe </span></span>
<span><span class="co">##         1209.000          142.660            1.120          613.000 </span></span>
<span><span class="co">##          Gorilla            Human African elephant      Triceratops </span></span>
<span><span class="co">##          155.830            6.540         1176.000         1382.000 </span></span>
<span><span class="co">##    Rhesus monkey         Kangaroo   Golden hamster            Mouse </span></span>
<span><span class="co">##          257.000           91.000            3.122            9.450 </span></span>
<span><span class="co">##           Rabbit            Sheep           Jaguar       Chimpanzee </span></span>
<span><span class="co">##            0.423          372.000          125.000           14.600 </span></span>
<span><span class="co">##              Rat    Brachiosaurus             Mole              Pig </span></span>
<span><span class="co">##            2.180          185.800          230.500         9470.000</span></span></code></pre>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">dense</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 2426.48</span></span></code></pre>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">dense</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 50 50</span></span></code></pre>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># t(dense)</span></span>
<span></span>
<span><span class="co"># Also supports math operations</span></span>
<span><span class="co"># dense + 10</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># dense / 10 </span></span>
<span><span class="co"># </span></span>
<span><span class="co"># dense * 10</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># dense - 10</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="working-with-large-data-frames-with-dbdataframe">Working with large data.frames with dbDataFrame<a class="anchor" aria-label="anchor" href="#working-with-large-data-frames-with-dbdataframe"></a>
</h2>
<p>Large data.frames can be stored as dbDataFrames directly in DuckDB
since they are essentially the same tabular data structure.</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Simulate dbDataFrame</span></span>
<span><span class="va">df</span> <span class="op">=</span> <span class="fu">sim_dbDataFrame</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Generics for dbDataFrame</span></span>
<span><span class="fu"><a href="../reference/nrow.html">nrow</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 150</span></span></code></pre>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/nrow.html">ncol</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 5</span></span></code></pre>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 150   5</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="session-info">Session Info<a class="anchor" aria-label="anchor" href="#session-info"></a>
</h2>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html" class="external-link">sessionInfo</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## R version 4.3.0 (2023-04-21)</span></span>
<span><span class="co">## Platform: aarch64-apple-darwin20 (64-bit)</span></span>
<span><span class="co">## Running under: macOS Ventura 13.3.1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Matrix products: default</span></span>
<span><span class="co">## BLAS:   /Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/lib/libRblas.0.dylib </span></span>
<span><span class="co">## LAPACK: /Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/lib/libRlapack.dylib;  LAPACK version 3.11.0</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## locale:</span></span>
<span><span class="co">## [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## time zone: America/New_York</span></span>
<span><span class="co">## tzcode source: internal</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## attached base packages:</span></span>
<span><span class="co">## [1] stats     graphics  grDevices utils     datasets  methods   base     </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## other attached packages:</span></span>
<span><span class="co">## [1] duckdb_0.8.1-3  DBI_1.1.3       dplyr_1.1.3     Duckling_0.1.4 </span></span>
<span><span class="co">## [5] testthat_3.1.10</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## loaded via a namespace (and not attached):</span></span>
<span><span class="co">##  [1] xfun_0.40         bslib_0.5.1       htmlwidgets_1.6.2 devtools_2.4.5   </span></span>
<span><span class="co">##  [5] remotes_2.4.2.1   processx_3.8.2    lattice_0.21-8    callr_3.7.3      </span></span>
<span><span class="co">##  [9] vctrs_0.6.3       tools_4.3.0       ps_1.7.5          generics_0.1.3   </span></span>
<span><span class="co">## [13] tibble_3.2.1      fansi_1.0.4       blob_1.2.4        pkgconfig_2.0.3  </span></span>
<span><span class="co">## [17] Matrix_1.6-1      data.table_1.14.8 checkmate_2.2.0   dbplyr_2.3.3     </span></span>
<span><span class="co">## [21] desc_1.4.2        assertthat_0.2.1  lifecycle_1.0.3   compiler_4.3.0   </span></span>
<span><span class="co">## [25] stringr_1.5.0     brio_1.1.3        textshaping_0.3.6 terra_1.7-39     </span></span>
<span><span class="co">## [29] codetools_0.2-19  fpeek_0.1.2       httpuv_1.6.11     htmltools_0.5.6  </span></span>
<span><span class="co">## [33] usethis_2.2.2     sass_0.4.7.9000   yaml_2.3.7        tidyr_1.3.0      </span></span>
<span><span class="co">## [37] later_1.3.1       pkgdown_2.0.7     pillar_1.9.0      crayon_1.5.2     </span></span>
<span><span class="co">## [41] jquerylib_0.1.4   urlchecker_1.0.1  MASS_7.3-60       ellipsis_0.3.2   </span></span>
<span><span class="co">## [45] cachem_1.0.8      sessioninfo_1.2.2 mime_0.12         tidyselect_1.2.0 </span></span>
<span><span class="co">## [49] digest_0.6.33     stringi_1.7.12    purrr_1.0.2       arrow_12.0.1.1   </span></span>
<span><span class="co">## [53] grid_4.3.0        rprojroot_2.0.3   fastmap_1.1.1     cli_3.6.1        </span></span>
<span><span class="co">## [57] magrittr_2.0.3    pkgbuild_1.4.2    utf8_1.2.3        withr_2.5.0      </span></span>
<span><span class="co">## [61] prettyunits_1.1.1 promises_1.2.1    backports_1.4.1   bit64_4.0.5      </span></span>
<span><span class="co">## [65] rmarkdown_2.24    bit_4.0.5         ragg_1.2.5        memoise_2.0.1    </span></span>
<span><span class="co">## [69] shiny_1.7.5       evaluate_0.21     knitr_1.43        miniUI_0.1.1.1   </span></span>
<span><span class="co">## [73] profvis_0.3.8     rlang_1.1.1       pool_1.0.1        Rcpp_1.0.11      </span></span>
<span><span class="co">## [77] xtable_1.8-4      glue_1.6.2        pkgload_1.3.2.1   rstudioapi_0.15.0</span></span>
<span><span class="co">## [81] jsonlite_1.8.7    R6_2.5.1          systemfonts_1.0.4 fs_1.6.3</span></span></code></pre>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Edward Ruiz, Jiaji George Chen, Ruben Dries.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
